<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="mobile-web-app-capable" content="yes" />
    <style>
      :root {
        /* Galaxy theme */
        --gx-bg: #0b1020; /* deep space */
        --gx-bg-2: #0e1830; /* accent layer */
        --gx-fg: #e5f0ff; /* primary text */
        --gx-muted: #9bb3c8; /* secondary text */
        --gx-cyan: #5ed4ff; /* accent cyan */
        --gx-green: #60f0af; /* accent green */
        --gx-blue: #6aa8ff; /* accent blue */
        --gx-white: #ffffff;
        --gx-border: #24324a;
        --gx-shadow: 0 6px 24px rgba(0, 0, 0, 0.45);
      }
      html,
      body {
        height: 100%;
        background: var(--gx-bg);
      }
      /* Inline splash to avoid FOUC before external CSS loads */
      #splash {
        position: fixed;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        background:
          radial-gradient(120% 80% at 50% -20%, rgba(62, 140, 255, 0.14), transparent 60%),
          linear-gradient(180deg, #0a1126 0%, var(--gx-bg) 60%);
        color: var(--gx-fg);
        z-index: 99999;
        transition: opacity 0.25s ease;
      }
      #splash.hidden {
        opacity: 0;
        pointer-events: none;
        visibility: hidden;
      }
      #splash .wrap {
        width: min(560px, 92vw);
        text-align: center;
        background: linear-gradient(180deg, rgba(25, 36, 64, 0.6), rgba(14, 26, 48, 0.6));
        border: 1px solid var(--gx-border);
        border-radius: 14px;
        box-shadow: var(--gx-shadow);
        padding: 24px 22px 18px;
        backdrop-filter: saturate(120%) blur(2px);
      }
      #splash .logo {
        width: 64px;
        height: 64px;
        margin: 2px auto 12px;
        display: block;
        filter: drop-shadow(0 2px 10px rgba(96, 240, 175, 0.2));
      }
      #splash .title {
        font:
          800 24px/1.2 'League Spartan',
          system-ui,
          sans-serif;
        letter-spacing: 0.6px;
        text-shadow: 0 0 22px rgba(110, 190, 255, 0.18);
      }
      #splash .subtitle {
        margin-top: 6px;
        color: var(--gx-muted);
        font:
          600 14px/1.5 'League Spartan',
          system-ui,
          sans-serif;
        letter-spacing: 0.2px;
      }
      #splash .bar {
        margin: 22px auto 0;
        width: min(76%, 420px);
        height: 10px;
        background: linear-gradient(180deg, #0e1c2a, #0b1826);
        border: 1px solid var(--gx-border);
        border-radius: 999px;
        overflow: hidden;
        box-shadow:
          inset 0 1px 0 rgba(255, 255, 255, 0.04),
          0 8px 24px rgba(0, 0, 0, 0.25);
      }
      #splash .fill {
        width: 0%;
        height: 100%;
        background: linear-gradient(90deg, var(--gx-green), var(--gx-cyan));
        transition: width 0.2s ease;
        position: relative;
        box-shadow:
          0 0 16px rgba(96, 240, 175, 0.2),
          0 0 24px rgba(94, 212, 255, 0.12);
      }
      /* Shimmer overlay */
      #splash .fill::after {
        content: '';
        position: absolute;
        inset: 0;
        background: repeating-linear-gradient(
          120deg,
          rgba(255, 255, 255, 0.14) 0px,
          rgba(255, 255, 255, 0.14) 6px,
          transparent 6px,
          transparent 16px
        );
        mix-blend-mode: overlay;
        animation: shimmer 1.2s linear infinite;
      }
      @keyframes shimmer {
        from {
          transform: translateX(-20%);
        }
        to {
          transform: translateX(20%);
        }
      }
      #splash .hint {
        margin-top: 10px;
        color: var(--gx-muted);
        font:
          600 12px/1.5 'League Spartan',
          system-ui,
          sans-serif;
        letter-spacing: 0.3px;
      }
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }
      @media (prefers-reduced-motion: reduce) {
        #splash,
        #splash .fill,
        #splash .fill::after {
          transition: none;
          animation: none;
        }
      }
    </style>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="buildmode-ui.css" />
    <link rel="stylesheet" href="buildmode-form.css" />
    <!-- Removed external Google Fonts to satisfy Reddit CSP -->
    <title>Galaxy Game - Build Mode</title>
  </head>

  <body>
    <div id="splash" role="status" aria-live="polite">
      <div class="wrap">
        <svg class="logo" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <defs>
            <linearGradient id="g" x1="0" x2="1">
              <stop offset="0%" stop-color="#60f0af" />
              <stop offset="100%" stop-color="#5ed4ff" />
            </linearGradient>
          </defs>
          <circle cx="32" cy="32" r="30" fill="#0f172a" stroke="#253248" stroke-width="2" />
          <path d="M32 10 L40 36 L32 30 L24 36 Z" fill="url(#g)" />
          <circle cx="32" cy="44" r="3" fill="#93c5fd" />
        </svg>
        <div class="title">Galaxy Explorer</div>
        <div id="splash-status" class="subtitle">Initializingâ€¦</div>
        <div class="bar" aria-hidden="true"><div id="splash-progress-fill" class="fill"></div></div>
        <div id="splash-hint" class="hint">Preparing your adventure...</div>
        <span id="splash-aria" class="sr-only">0% loaded</span>
      </div>
    </div>
    <div id="app">
      <div id="game-container"></div>
    </div>
    <script type="module" src="main.ts"></script>
  </body>
</html>
